var VaelChat=function(e){"use strict";var t,n,r,o,i,u,l,s,a,_,c,f={},p=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function v(e,t){for(var n in t)e[n]=t[n];return e}function m(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function g(e,t,o,i,u){var l={type:e,props:t,key:o,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==u?++r:u,__i:-1,__u:0};return null==u&&null!=n.vnode&&n.vnode(l),l}function b(e){return e.children}function x(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function S(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return S(e)}}function k(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!E.__r++||i!=n.debounceRendering)&&((i=n.debounceRendering)||u)(E)}function E(){for(var e,t,r,i,u,s,a,_=1;o.length;)o.length>_&&o.sort(l),e=o.shift(),_=o.length,e.__d&&(r=void 0,i=void 0,u=(i=(t=e).__v).__e,s=[],a=[],t.__P&&((r=v({},i)).__v=i.__v+1,n.vnode&&n.vnode(r),R(t.__P,r,i,t.__n,t.__P.namespaceURI,32&i.__u?[u]:null,s,null==u?w(i):u,!!(32&i.__u),a),r.__v=i.__v,r.__.__k[r.__i]=r,P(s,r,a),i.__e=i.__=null,r.__e!=u&&S(r)));E.__r=0}function C(e,t,n,r,o,i,u,l,s,a,_){var c,d,h,v,m,x,S,k=r&&r.__k||p,E=t.length;for(s=function(e,t,n,r,o){var i,u,l,s,a,_=n.length,c=_,f=0;for(e.__k=new Array(o),i=0;i<o;i++)null!=(u=t[i])&&"boolean"!=typeof u&&"function"!=typeof u?("string"==typeof u||"number"==typeof u||"bigint"==typeof u||u.constructor==String?u=e.__k[i]=g(null,u,null,null,null):y(u)?u=e.__k[i]=g(b,{children:u},null,null,null):void 0===u.constructor&&u.__b>0?u=e.__k[i]=g(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):e.__k[i]=u,s=i+f,u.__=e,u.__b=e.__b+1,l=null,-1!=(a=u.__i=I(u,n,s,c))&&(c--,(l=n[a])&&(l.__u|=2)),null==l||null==l.__v?(-1==a&&(o>_?f--:o<_&&f++),"function"!=typeof u.type&&(u.__u|=4)):a!=s&&(a==s-1?f--:a==s+1?f++:(a>s?f--:f++,u.__u|=4))):e.__k[i]=null;if(c)for(i=0;i<_;i++)null!=(l=n[i])&&!(2&l.__u)&&(l.__e==r&&(r=w(l)),A(l,l));return r}(n,t,k,s,E),c=0;c<E;c++)null!=(h=n.__k[c])&&(d=-1==h.__i?f:k[h.__i]||f,h.__i=c,x=R(e,h,d,o,i,u,l,s,a,_),v=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&$(d.ref,null,h),_.push(h.ref,h.__c||v,h)),null==m&&null!=v&&(m=v),(S=!!(4&h.__u))||d.__k===h.__k?s=H(h,s,e,S):"function"==typeof h.type&&void 0!==x?s=x:v&&(s=v.nextSibling),h.__u&=-7);return n.__e=m,s}function H(e,t,n,r){var o,i;if("function"==typeof e.type){for(o=e.__k,i=0;o&&i<o.length;i++)o[i]&&(o[i].__=e,t=H(o[i],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=w(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do{t=t&&t.nextSibling}while(null!=t&&8==t.nodeType);return t}function I(e,t,n,r){var o,i,u,l=e.key,s=e.type,a=t[n],_=null!=a&&!(2&a.__u);if(null===a&&null==l||_&&l==a.key&&s==a.type)return n;if(r>(_?1:0))for(o=n-1,i=n+1;o>=0||i<t.length;)if(null!=(a=t[u=o>=0?o--:i++])&&!(2&a.__u)&&l==a.key&&s==a.type)return u;return-1}function T(e,t,n){"-"==t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||d.test(t)?n:n+"px"}function j(e,t,n,r,o){var i,u;e:if("style"==t)if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||T(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||T(e.style,t,n[t])}else if("o"==t[0]&&"n"==t[1])i=t!=(t=t.replace(s,"$1")),u=t.toLowerCase(),t=u in e||"onFocusOut"==t||"onFocusIn"==t?u.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r?n.u=r.u:(n.u=a,e.addEventListener(t,i?c:_,i)):e.removeEventListener(t,i?c:_,i);else{if("http://www.w3.org/2000/svg"==o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=t&&"height"!=t&&"href"!=t&&"list"!=t&&"form"!=t&&"tabIndex"!=t&&"download"!=t&&"rowSpan"!=t&&"colSpan"!=t&&"role"!=t&&"popover"!=t&&t in e)try{e[t]=null==n?"":n;break e}catch(e){}"function"==typeof n||(null==n||!1===n&&"-"!=t[4]?e.removeAttribute(t):e.setAttribute(t,"popover"==t&&1==n?"":n))}}function D(e){return function(t){if(this.l){var r=this.l[t.type+e];if(null==t.t)t.t=a++;else if(t.t<r.u)return;return r(n.event?n.event(t):t)}}}function R(e,t,r,o,i,u,l,s,a,_){var c,f,p,d,h,g,w,S,k,E,H,I,T,j,D,R,P,$=t.type;if(void 0!==t.constructor)return null;128&r.__u&&(a=!!(32&r.__u),u=[s=t.__e=r.__e]),(c=n.__b)&&c(t);e:if("function"==typeof $)try{if(S=t.props,k="prototype"in $&&$.prototype.render,E=(c=$.contextType)&&o[c.__c],H=c?E?E.props.value:c.__:o,r.__c?w=(f=t.__c=r.__c).__=f.__E:(k?t.__c=f=new $(S,H):(t.__c=f=new x(S,H),f.constructor=$,f.render=U),E&&E.sub(f),f.state||(f.state={}),f.__n=o,p=f.__d=!0,f.__h=[],f._sb=[]),k&&null==f.__s&&(f.__s=f.state),k&&null!=$.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=v({},f.__s)),v(f.__s,$.getDerivedStateFromProps(S,f.__s))),d=f.props,h=f.state,f.__v=t,p)k&&null==$.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),k&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(k&&null==$.getDerivedStateFromProps&&S!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(S,H),t.__v==r.__v||!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(S,f.__s,H)){for(t.__v!=r.__v&&(f.props=S,f.state=f.__s,f.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(e){e&&(e.__=t)}),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[],f.__h.length&&l.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(S,f.__s,H),k&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,h,g)})}if(f.context=H,f.props=S,f.__P=e,f.__e=!1,T=n.__r,j=0,k){for(f.state=f.__s,f.__d=!1,T&&T(t),c=f.render(f.props,f.state,f.context),D=0;D<f._sb.length;D++)f.__h.push(f._sb[D]);f._sb=[]}else do{f.__d=!1,T&&T(t),c=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++j<25);f.state=f.__s,null!=f.getChildContext&&(o=v(v({},o),f.getChildContext())),k&&!p&&null!=f.getSnapshotBeforeUpdate&&(g=f.getSnapshotBeforeUpdate(d,h)),R=c,null!=c&&c.type===b&&null==c.key&&(R=N(c.props.children)),s=C(e,y(R)?R:[R],t,r,o,i,u,l,s,a,_),f.base=t.__e,t.__u&=-161,f.__h.length&&l.push(f),w&&(f.__E=f.__=null)}catch(e){if(t.__v=null,a||null!=u)if(e.then){for(t.__u|=a?160:128;s&&8==s.nodeType&&s.nextSibling;)s=s.nextSibling;u[u.indexOf(s)]=null,t.__e=s}else{for(P=u.length;P--;)m(u[P]);O(t)}else t.__e=r.__e,t.__k=r.__k,e.then||O(t);n.__e(e,t,r)}else null==u&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):s=t.__e=M(r.__e,t,r,o,i,u,l,a,_);return(c=n.diffed)&&c(t),128&t.__u?void 0:s}function O(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(O)}function P(e,t,r){for(var o=0;o<r.length;o++)$(r[o],r[++o],r[++o]);n.__c&&n.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t)})}catch(e){n.__e(e,t.__v)}})}function N(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:y(e)?e.map(N):v({},e)}function M(e,r,o,i,u,l,s,a,_){var c,p,d,h,v,g,b,x=o.props||f,S=r.props,k=r.type;if("svg"==k?u="http://www.w3.org/2000/svg":"math"==k?u="http://www.w3.org/1998/Math/MathML":u||(u="http://www.w3.org/1999/xhtml"),null!=l)for(c=0;c<l.length;c++)if((v=l[c])&&"setAttribute"in v==!!k&&(k?v.localName==k:3==v.nodeType)){e=v,l[c]=null;break}if(null==e){if(null==k)return document.createTextNode(S);e=document.createElementNS(u,k,S.is&&S),a&&(n.__m&&n.__m(r,l),a=!1),l=null}if(null==k)x===S||a&&e.data==S||(e.data=S);else{if(l=l&&t.call(e.childNodes),!a&&null!=l)for(x={},c=0;c<e.attributes.length;c++)x[(v=e.attributes[c]).name]=v.value;for(c in x)if(v=x[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=v;else if(!(c in S)){if("value"==c&&"defaultValue"in S||"checked"==c&&"defaultChecked"in S)continue;j(e,c,null,v,u)}for(c in S)v=S[c],"children"==c?h=v:"dangerouslySetInnerHTML"==c?p=v:"value"==c?g=v:"checked"==c?b=v:a&&"function"!=typeof v||x[c]===v||j(e,c,v,x[c],u);if(p)a||d&&(p.__html==d.__html||p.__html==e.innerHTML)||(e.innerHTML=p.__html),r.__k=[];else if(d&&(e.innerHTML=""),C("template"==r.type?e.content:e,y(h)?h:[h],r,o,i,"foreignObject"==k?"http://www.w3.org/1999/xhtml":u,l,s,l?l[0]:o.__k&&w(o,0),a,_),null!=l)for(c=l.length;c--;)m(l[c]);a||(c="value","progress"==k&&null==g?e.removeAttribute("value"):null!=g&&(g!==e[c]||"progress"==k&&!g||"option"==k&&g!=x[c])&&j(e,c,g,x[c],u),c="checked",null!=b&&b!=e[c]&&j(e,c,b,x[c],u))}return e}function $(e,t,r){try{if("function"==typeof e){var o="function"==typeof e.__u;o&&e.__u(),o&&null==t||(e.__u=e(t))}else e.current=t}catch(e){n.__e(e,r)}}function A(e,t,r){var o,i;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!=e.__e||$(o,null,t)),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(i=0;i<o.length;i++)o[i]&&A(o[i],t,r||"function"!=typeof e.type);r||m(e.__e),e.__c=e.__=e.__e=void 0}function U(e,t,n){return this.constructor(e,n)}function L(e,r,o){var i,u,l;r==document&&(r=document.documentElement),n.__&&n.__(e,r),i=!1?null:r.__k,u=[],l=[],R(r,e=r.__k=function(e,n,r){var o,i,u,l={};for(u in n)"key"==u?o=n[u]:"ref"==u?i=n[u]:l[u]=n[u];if(arguments.length>2&&(l.children=arguments.length>3?t.call(arguments,2):r),"function"==typeof e&&null!=e.defaultProps)for(u in e.defaultProps)void 0===l[u]&&(l[u]=e.defaultProps[u]);return g(e,l,o,i,null)}(b,null,[e]),i||f,f,r.namespaceURI,i?null:r.firstChild?t.call(r.childNodes):null,u,i?i.__e:r.firstChild,false,l),P(u,e,l)}t=p.slice,n={__e:function(e,t,n,r){for(var o,i,u;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&null!=i.getDerivedStateFromError&&(o.setState(i.getDerivedStateFromError(e)),u=o.__d),null!=o.componentDidCatch&&(o.componentDidCatch(e,r||{}),u=o.__d),u)return o.__E=o}catch(t){e=t}throw e}},r=0,x.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=v({},this.state),"function"==typeof e&&(e=e(v({},n),this.props)),e&&v(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),k(this))},x.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),k(this))},x.prototype.render=b,o=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,l=function(e,t){return e.__v.__b-t.__v.__b},E.__r=0,s=/(PointerCapture)$|Capture$/i,a=0,_=D(!1),c=D(!0);var F,W,z,V,B=0,q=[],J=n,Y=J.__b,K=J.__r,G=J.diffed,Q=J.__c,X=J.unmount,Z=J.__;function ee(e,t){J.__h&&J.__h(W,e,B||t),B=0;var n=W.__H||(W.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function te(e){return B=1,function(e,t){var n=ee(F++,2);if(n.t=e,!n.__c&&(n.__=[_e(void 0,t),function(e){var t=n.__N?n.__N[0]:n.__[0],r=n.t(t,e);t!==r&&(n.__N=[r,n.__[1]],n.__c.setState({}))}],n.__c=W,!W.__f)){var r=function(e,t,r){if(!n.__c.__H)return!0;var i=n.__c.__H.__.filter(function(e){return!!e.__c});if(i.every(function(e){return!e.__N}))return!o||o.call(this,e,t,r);var u=n.__c.props!==e;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(u=!0)}}),o&&o.call(this,e,t,r)||u};W.__f=!0;var o=W.shouldComponentUpdate,i=W.componentWillUpdate;W.componentWillUpdate=function(e,t,n){if(this.__e){var u=o;o=void 0,r(e,t,n),o=u}i&&i.call(this,e,t,n)},W.shouldComponentUpdate=r}return n.__N||n.__}(_e,e)}function ne(e,t){var n=ee(F++,3);!J.__s&&ae(n.__H,t)&&(n.__=e,n.u=t,W.__H.__h.push(n))}function re(e){return B=5,function(e,t){var n=ee(F++,7);return ae(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}(function(){return{current:e}},[])}function oe(){for(var e;e=q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(le),e.__H.__h.forEach(se),e.__H.__h=[]}catch(t){e.__H.__h=[],J.__e(t,e.__v)}}J.__b=function(e){W=null,Y&&Y(e)},J.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Z&&Z(e,t)},J.__r=function(e){K&&K(e),F=0;var t=(W=e.__c).__H;t&&(z===W?(t.__h=[],W.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(le),t.__h.forEach(se),t.__h=[],F=0)),z=W},J.diffed=function(e){G&&G(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==q.push(t)&&V===J.requestAnimationFrame||((V=J.requestAnimationFrame)||ue)(oe)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),z=W=null},J.__c=function(e,t){t.some(function(e){try{e.__h.forEach(le),e.__h=e.__h.filter(function(e){return!e.__||se(e)})}catch(n){t.some(function(e){e.__h&&(e.__h=[])}),t=[],J.__e(n,e.__v)}}),Q&&Q(e,t)},J.unmount=function(e){X&&X(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{le(e)}catch(e){t=e}}),n.__H=void 0,t&&J.__e(t,n.__v))};var ie="function"==typeof requestAnimationFrame;function ue(e){var t,n=function(){clearTimeout(r),ie&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);ie&&(t=requestAnimationFrame(n))}function le(e){var t=W,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),W=t}function se(e){var t=W;e.__c=e.__(),W=t}function ae(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n]})}function _e(e,t){return"function"==typeof t?t(e):t}const ce=e=>{let t;const n=new Set,r=(e,r)=>{const o="function"==typeof e?e(t):e;if(!Object.is(o,t)){const e=t;t=(null!=r?r:"object"!=typeof o||null===o)?o:Object.assign({},t,o),n.forEach(n=>n(t,e))}},o=()=>t,i={setState:r,getState:o,getInitialState:()=>u,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(r,o,i);return i};function fe(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pe={exports:{}},de={},he=Symbol.for("react.transitional.element"),ye=Symbol.for("react.portal"),ve=Symbol.for("react.fragment"),me=Symbol.for("react.strict_mode"),ge=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),xe=Symbol.for("react.context"),we=Symbol.for("react.forward_ref"),Se=Symbol.for("react.suspense"),ke=Symbol.for("react.memo"),Ee=Symbol.for("react.lazy"),Ce=Symbol.for("react.activity"),He=Symbol.iterator;var Ie={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Te=Object.assign,je={};function De(e,t,n){this.props=e,this.context=t,this.refs=je,this.updater=n||Ie}function Re(){}function Oe(e,t,n){this.props=e,this.context=t,this.refs=je,this.updater=n||Ie}De.prototype.isReactComponent={},De.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},De.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},Re.prototype=De.prototype;var Pe=Oe.prototype=new Re;Pe.constructor=Oe,Te(Pe,De.prototype),Pe.isPureReactComponent=!0;var Ne=Array.isArray;function Me(){}var $e={H:null,A:null,T:null,S:null},Ae=Object.prototype.hasOwnProperty;function Ue(e,t,n){var r=n.ref;return{$$typeof:he,type:e,key:t,ref:void 0!==r?r:null,props:n}}function Le(e){return"object"==typeof e&&null!==e&&e.$$typeof===he}var Fe=/\/+/g;function We(e,t){return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36);var n,r}function ze(e,t,n,r,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var u,l,s=!1;if(null===e)s=!0;else switch(i){case"bigint":case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case he:case ye:s=!0;break;case Ee:return ze((s=e._init)(e._payload),t,n,r,o)}}if(s)return o=o(e),s=""===r?"."+We(e,0):r,Ne(o)?(n="",null!=s&&(n=s.replace(Fe,"$&/")+"/"),ze(o,t,n,"",function(e){return e})):null!=o&&(Le(o)&&(u=o,l=n+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(Fe,"$&/")+"/")+s,o=Ue(u.type,l,u.props)),t.push(o)),1;s=0;var a,_=""===r?".":r+":";if(Ne(e))for(var c=0;c<e.length;c++)s+=ze(r=e[c],t,n,i=_+We(r,c),o);else if("function"==typeof(c=null===(a=e)||"object"!=typeof a?null:"function"==typeof(a=He&&a[He]||a["@@iterator"])?a:null))for(e=c.call(e),c=0;!(r=e.next()).done;)s+=ze(r=r.value,t,n,i=_+We(r,c++),o);else if("object"===i){if("function"==typeof e.then)return ze(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"==typeof e.status?e.then(Me,Me):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,n,r,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return s}function Ve(e,t,n){if(null==e)return e;var r=[],o=0;return ze(e,r,"","",function(e){return t.call(n,e,o++)}),r}function Be(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var qe="function"==typeof reportError?reportError:function(e){if("object"==typeof window&&"function"==typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"==typeof e&&null!==e&&"string"==typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"==typeof process&&"function"==typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)},Je={map:Ve,forEach:function(e,t,n){Ve(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ve(e,function(){t++}),t},toArray:function(e){return Ve(e,function(e){return e})||[]},only:function(e){if(!Le(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};de.Activity=Ce,de.Children=Je,de.Component=De,de.Fragment=ve,de.Profiler=ge,de.PureComponent=Oe,de.StrictMode=me,de.Suspense=Se,de.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e,de.__COMPILER_RUNTIME={__proto__:null,c:function(e){return $e.H.useMemoCache(e)}},de.cache=function(e){return function(){return e.apply(null,arguments)}},de.cacheSignal=function(){return null},de.cloneElement=function(e,t,n){if(null==e)throw Error("The argument must be a React element, but you passed "+e+".");var r=Te({},e.props),o=e.key;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)!Ae.call(t,i)||"key"===i||"__self"===i||"__source"===i||"ref"===i&&void 0===t.ref||(r[i]=t[i]);var i=arguments.length-2;if(1===i)r.children=n;else if(1<i){for(var u=Array(i),l=0;l<i;l++)u[l]=arguments[l+2];r.children=u}return Ue(e.type,o,r)},de.createContext=function(e){return(e={$$typeof:xe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:be,_context:e},e},de.createElement=function(e,t,n){var r,o={},i=null;if(null!=t)for(r in void 0!==t.key&&(i=""+t.key),t)Ae.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(o[r]=t[r]);var u=arguments.length-2;if(1===u)o.children=n;else if(1<u){for(var l=Array(u),s=0;s<u;s++)l[s]=arguments[s+2];o.children=l}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===o[r]&&(o[r]=u[r]);return Ue(e,i,o)},de.createRef=function(){return{current:null}},de.forwardRef=function(e){return{$$typeof:we,render:e}},de.isValidElement=Le,de.lazy=function(e){return{$$typeof:Ee,_payload:{_status:-1,_result:e},_init:Be}},de.memo=function(e,t){return{$$typeof:ke,type:e,compare:void 0===t?null:t}},de.startTransition=function(e){var t=$e.T,n={};$e.T=n;try{var r=e(),o=$e.S;null!==o&&o(n,r),"object"==typeof r&&null!==r&&"function"==typeof r.then&&r.then(Me,qe)}catch(e){qe(e)}finally{null!==t&&null!==n.types&&(t.types=n.types),$e.T=t}},de.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()},de.use=function(e){return $e.H.use(e)},de.useActionState=function(e,t,n){return $e.H.useActionState(e,t,n)},de.useCallback=function(e,t){return $e.H.useCallback(e,t)},de.useContext=function(e){return $e.H.useContext(e)},de.useDebugValue=function(){},de.useDeferredValue=function(e,t){return $e.H.useDeferredValue(e,t)},de.useEffect=function(e,t){return $e.H.useEffect(e,t)},de.useEffectEvent=function(e){return $e.H.useEffectEvent(e)},de.useId=function(){return $e.H.useId()},de.useImperativeHandle=function(e,t,n){return $e.H.useImperativeHandle(e,t,n)},de.useInsertionEffect=function(e,t){return $e.H.useInsertionEffect(e,t)},de.useLayoutEffect=function(e,t){return $e.H.useLayoutEffect(e,t)},de.useMemo=function(e,t){return $e.H.useMemo(e,t)},de.useOptimistic=function(e,t){return $e.H.useOptimistic(e,t)},de.useReducer=function(e,t,n){return $e.H.useReducer(e,t,n)},de.useRef=function(e){return $e.H.useRef(e)},de.useState=function(e){return $e.H.useState(e)},de.useSyncExternalStore=function(e,t,n){return $e.H.useSyncExternalStore(e,t,n)},de.useTransition=function(){return $e.H.useTransition()},de.version="19.2.4",pe.exports=de;var Ye=pe.exports,Ke=fe(Ye),Ge={exports:{}},Qe={},Xe={exports:{}},Ze={},et=Ye;var tt="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},nt=et.useState,rt=et.useEffect,ot=et.useLayoutEffect,it=et.useDebugValue;function ut(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tt(e,n)}catch(e){return!0}}var lt="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=nt({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return ot(function(){o.value=n,o.getSnapshot=t,ut(o)&&i({inst:o})},[e,n,t]),rt(function(){return ut(o)&&i({inst:o}),e(function(){ut(o)&&i({inst:o})})},[e]),it(n),n};Ze.useSyncExternalStore=void 0!==et.useSyncExternalStore?et.useSyncExternalStore:lt,Xe.exports=Ze;var st=Ye,at=Xe.exports;
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var _t="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},ct=at.useSyncExternalStore,ft=st.useRef,pt=st.useEffect,dt=st.useMemo,ht=st.useDebugValue;Qe.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=ft(null);if(null===i.current){var u={hasValue:!1,value:null};i.current=u}else u=i.current;i=dt(function(){function e(e){if(!s){if(s=!0,i=e,e=r(e),void 0!==o&&u.hasValue){var t=u.value;if(o(t,e))return l=t}return l=e}if(t=l,_t(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,l=n)}var i,l,s=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,n,r,o]);var l=ct(e,i[0],i[1]);return pt(function(){u.hasValue=!0,u.value=l},[l]),ht(l),l},Ge.exports=Qe;var yt=fe(Ge.exports);const{useDebugValue:vt}=Ke,{useSyncExternalStoreWithSelector:mt}=yt;let gt=!1;const bt=e=>e;const xt=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t="function"==typeof e?(e=>e?ce(e):ce)(e):e,n=(e,n)=>function(e,t=bt,n){n&&!gt&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gt=!0);const r=mt(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return vt(r),r}(t,e,n);return Object.assign(n,t),n};const wt="vael_visitor_id";function St(){let e=localStorage.getItem(wt);if(!e){const t=document.cookie.split(";");for(const n of t){const[t,r]=n.trim().split("=");if(t===wt){e=r;break}}}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}),function(e){localStorage.setItem(wt,e);const t=new Date;t.setDate(t.getDate()+365),document.cookie=`${wt}=${e};expires=${t.toUTCString()};path=/;SameSite=Lax`}(e)),e}const kt="vael_chat_conversation";const Et=(Ct=(e,t)=>{const{conversationId:n,messages:r}=function(){try{const e=localStorage.getItem(kt);if(e){const t=JSON.parse(e);if(t.timestamp&&Date.now()-t.timestamp<864e5)return{conversationId:t.conversationId,messages:t.messages||[]}}}catch{}return{conversationId:null,messages:[]}}();return{isOpen:!1,isLoading:!1,messages:r,conversationId:n,visitorId:St(),error:null,toggle:()=>e(e=>({isOpen:!e.isOpen})),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),clearError:()=>e({error:null}),init:async()=>{const{visitorId:e}=t();try{await async function(e){const t=await fetch("/api/visitors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:e,currentPage:window.location.pathname})});if(!t.ok)throw new Error(`Visitor init failed: ${t.status}`);return t.json()}(e)}catch(e){console.error("Failed to init visitor:",e)}},sendMessage:async n=>{const{visitorId:r,conversationId:o,messages:i}=t(),u={id:`user-${Date.now()}`,role:"user",content:n,timestamp:Date.now()};e({messages:[...i,u],isLoading:!0,error:null});try{const i=await async function(e,t,n){const r=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:e,message:t,conversationId:n,currentPage:window.location.pathname})});if(!r.ok)throw new Error(`Chat request failed: ${r.status}`);return r.json()}(r,n,o||void 0),u={id:i.message.id,role:"assistant",content:i.message.content,timestamp:i.message.timestamp},l=[...t().messages,u];e({messages:l,conversationId:i.conversationId,isLoading:!1}),function(e,t){try{localStorage.setItem(kt,JSON.stringify({conversationId:e,messages:t,timestamp:Date.now()}))}catch{}}(i.conversationId,l)}catch(t){console.error("Failed to send message:",t),e({isLoading:!1,error:"Failed to send message. Please try again."})}}}})?xt(Ct):xt;var Ct;function Ht(){const{toggle:e,isOpen:t,messages:n}=Et(),r=n.length>0&&"assistant"===n[n.length-1].role;return h("button",{onClick:e,"aria-label":t?"Close chat":"Open chat",style:{position:"fixed",bottom:"20px",right:"20px",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#2563eb",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, box-shadow 0.2s",zIndex:9998},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"}},t?h("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},h("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h("line",{x1:"6",y1:"6",x2:"18",y2:"18"})):h("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"white"},h("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),!t&&r&&h("span",{style:{position:"absolute",top:"0",right:"0",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%",border:"2px solid white"}}))}function It({role:e,content:t,timestamp:n}){const r="user"===e;return h("div",{style:{display:"flex",flexDirection:"column",alignItems:r?"flex-end":"flex-start",marginBottom:"12px"}},h("div",{style:{maxWidth:"80%",padding:"10px 14px",borderRadius:r?"16px 16px 4px 16px":"16px 16px 16px 4px",backgroundColor:r?"#2563eb":"#f3f4f6",color:r?"white":"#1f2937",fontSize:"14px",lineHeight:"1.5",wordBreak:"break-word"}},t),h("span",{style:{fontSize:"11px",color:"#9ca3af",marginTop:"4px",paddingInline:"4px"}},new Date(n).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})))}function Tt(){const[e,t]=te(""),n=re(null),{sendMessage:r,isLoading:o}=Et(),i=async i=>{i.preventDefault();const u=e.trim();u&&!o&&(t(""),await r(u),n.current?.focus())};return h("form",{onSubmit:i,style:{display:"flex",gap:"8px",padding:"12px",borderTop:"1px solid #e5e7eb",backgroundColor:"white"}},h("input",{ref:n,type:"text",value:e,onInput:e=>t(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),i(e))},placeholder:"Type a message...",disabled:o,style:{flex:1,padding:"10px 14px",border:"1px solid #e5e7eb",borderRadius:"20px",fontSize:"14px",outline:"none",transition:"border-color 0.2s"},onFocus:e=>{e.currentTarget.style.borderColor="#2563eb"},onBlur:e=>{e.currentTarget.style.borderColor="#e5e7eb"}}),h("button",{type:"submit",disabled:o||!e.trim(),style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:o||!e.trim()?"#d1d5db":"#2563eb",border:"none",cursor:o||!e.trim()?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s"}},o?h("div",{style:{width:"16px",height:"16px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"vael-spin 0.8s linear infinite"}}):h("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"white"},h("path",{d:"M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"}))))}function jt(){const{messages:e,isLoading:t,error:n,clearError:r,close:o}=Et(),i=re(null);return ne(()=>{i.current?.scrollIntoView({behavior:"smooth"})},[e]),h("div",{style:{position:"fixed",bottom:"90px",right:"20px",width:"380px",maxWidth:"calc(100vw - 40px)",height:"500px",maxHeight:"calc(100vh - 120px)",backgroundColor:"white",borderRadius:"16px",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.12)",display:"flex",flexDirection:"column",overflow:"hidden",zIndex:9999,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif'}},h("div",{style:{padding:"16px",backgroundColor:"#2563eb",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"}},h("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},h("div",{style:{width:"36px",height:"36px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.2)",display:"flex",alignItems:"center",justifyContent:"center"}},h("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"white"},h("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}))),h("div",null,h("div",{style:{fontWeight:"600",fontSize:"15px"}},"Vael Creative"),h("div",{style:{fontSize:"12px",opacity:.9}},"We typically reply in minutes"))),h("button",{onClick:o,style:{background:"none",border:"none",color:"white",cursor:"pointer",padding:"4px",display:"flex"},"aria-label":"Close chat"},h("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2"},h("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),h("line",{x1:"6",y1:"6",x2:"18",y2:"18"})))),h("div",{style:{flex:1,padding:"16px",overflowY:"auto",backgroundColor:"#fafafa"}},0===e.length&&h("div",{style:{textAlign:"center",color:"#6b7280",padding:"40px 20px"}},h("div",{style:{fontSize:"32px",marginBottom:"12px"}},"ðŸ‘‹"),h("div",{style:{fontSize:"15px",fontWeight:"500"}},"Hi there!"),h("div",{style:{fontSize:"13px",marginTop:"4px"}},"How can we help you today?")),e.map(e=>h(It,{key:e.id,role:e.role,content:e.content,timestamp:e.timestamp})),t&&h("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"10px 14px",backgroundColor:"#f3f4f6",borderRadius:"16px 16px 16px 4px",width:"fit-content"}},h("span",{style:{animation:"vael-bounce 1s infinite",animationDelay:"0ms"}},"â€¢"),h("span",{style:{animation:"vael-bounce 1s infinite",animationDelay:"150ms"}},"â€¢"),h("span",{style:{animation:"vael-bounce 1s infinite",animationDelay:"300ms"}},"â€¢")),n&&h("div",{style:{padding:"10px 14px",backgroundColor:"#fef2f2",color:"#dc2626",borderRadius:"8px",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"space-between"}},h("span",null,n),h("button",{onClick:r,style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:"16px"}},"Ã—")),h("div",{ref:i})),h(Tt,null))}function Dt(){const{isOpen:e,init:t}=Et();return ne(()=>{t()},[]),h(Fragment,null,h("style",null,"\n        @keyframes vael-spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes vael-bounce {\n          0%, 60%, 100% { transform: translateY(0); }\n          30% { transform: translateY(-4px); }\n        }\n      "),h(Ht,null),e&&h(jt,null))}function Rt(){let e=document.getElementById("vael-chat-widget");e||(e=document.createElement("div"),e.id="vael-chat-widget",document.body.appendChild(e)),L(h(Dt,null),e)}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",Rt):Rt(),e.ChatWidget=Dt,e.init=Rt,e}({});
