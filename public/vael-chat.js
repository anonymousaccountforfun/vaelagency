var VaelChat=function(e){"use strict";var n,t,o,r,i,l,u,a,s,_,c,f,p={},d=[],h=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,v=Array.isArray;function m(e,n){for(var t in n)e[t]=n[t];return e}function g(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function y(e,t,o){var r,i,l,u={};for(l in t)"key"==l?r=t[l]:"ref"==l?i=t[l]:u[l]=t[l];if(arguments.length>2&&(u.children=arguments.length>3?n.call(arguments,2):o),"function"==typeof e&&null!=e.defaultProps)for(l in e.defaultProps)void 0===u[l]&&(u[l]=e.defaultProps[l]);return x(e,u,r,i,null)}function x(e,n,r,i,l){var u={type:e,props:n,key:r,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==l?++o:l,__i:-1,__u:0};return null==l&&null!=t.vnode&&t.vnode(u),u}function b(){return{current:null}}function k(e){return e.children}function C(e,n){this.props=e,this.context=n}function w(e,n){if(null==n)return e.__?w(e.__,e.__i+1):null;for(var t;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e)return t.__e;return"function"==typeof e.type?w(e):null}function S(e){var n,t;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(t=e.__k[n])&&null!=t.__e){e.__e=e.__c.base=t.__e;break}return S(e)}}function E(e){(!e.__d&&(e.__d=!0)&&r.push(e)&&!I.__r++||i!=t.debounceRendering)&&((i=t.debounceRendering)||l)(I)}function I(){for(var e,n,o,i,l,a,s,_=1;r.length;)r.length>_&&r.sort(u),e=r.shift(),_=r.length,e.__d&&(o=void 0,i=void 0,l=(i=(n=e).__v).__e,a=[],s=[],n.__P&&((o=m({},i)).__v=i.__v+1,t.vnode&&t.vnode(o),L(n.__P,o,i,n.__n,n.__P.namespaceURI,32&i.__u?[l]:null,a,null==l?w(i):l,!!(32&i.__u),s),o.__v=i.__v,o.__.__k[o.__i]=o,H(a,o,s),i.__e=i.__=null,o.__e!=l&&S(o)));I.__r=0}function P(e,n,t,o,r,i,l,u,a,s,_){var c,f,h,m,g,y,b,C=o&&o.__k||d,S=n.length;for(a=function(e,n,t,o,r){var i,l,u,a,s,_=t.length,c=_,f=0;for(e.__k=new Array(r),i=0;i<r;i++)null!=(l=n[i])&&"boolean"!=typeof l&&"function"!=typeof l?("string"==typeof l||"number"==typeof l||"bigint"==typeof l||l.constructor==String?l=e.__k[i]=x(null,l,null,null,null):v(l)?l=e.__k[i]=x(k,{children:l},null,null,null):void 0===l.constructor&&l.__b>0?l=e.__k[i]=x(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):e.__k[i]=l,a=i+f,l.__=e,l.__b=e.__b+1,u=null,-1!=(s=l.__i=R(l,t,a,c))&&(c--,(u=t[s])&&(u.__u|=2)),null==u||null==u.__v?(-1==s&&(r>_?f--:r<_&&f++),"function"!=typeof l.type&&(l.__u|=4)):s!=a&&(s==a-1?f--:s==a+1?f++:(s>a?f--:f++,l.__u|=4))):e.__k[i]=null;if(c)for(i=0;i<_;i++)null!=(u=t[i])&&!(2&u.__u)&&(u.__e==o&&(o=w(u)),z(u,u));return o}(t,n,C,a,S),c=0;c<S;c++)null!=(h=t.__k[c])&&(f=-1==h.__i?p:C[h.__i]||p,h.__i=c,y=L(e,h,f,r,i,l,u,a,s,_),m=h.__e,h.ref&&f.ref!=h.ref&&(f.ref&&B(f.ref,null,h),_.push(h.ref,h.__c||m,h)),null==g&&null!=m&&(g=m),(b=!!(4&h.__u))||f.__k===h.__k?a=F(h,a,e,b):"function"==typeof h.type&&void 0!==y?a=y:m&&(a=m.nextSibling),h.__u&=-7);return t.__e=g,a}function F(e,n,t,o){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,n=F(r[i],n,t,o));return n}e.__e!=n&&(o&&(n&&e.type&&!n.parentNode&&(n=w(e)),t.insertBefore(e.__e,n||null)),n=e.__e);do{n=n&&n.nextSibling}while(null!=n&&8==n.nodeType);return n}function N(e,n){return n=n||[],null==e||"boolean"==typeof e||(v(e)?e.some(function(e){N(e,n)}):n.push(e)),n}function R(e,n,t,o){var r,i,l,u=e.key,a=e.type,s=n[t],_=null!=s&&!(2&s.__u);if(null===s&&null==u||_&&u==s.key&&a==s.type)return t;if(o>(_?1:0))for(r=t-1,i=t+1;r>=0||i<n.length;)if(null!=(s=n[l=r>=0?r--:i++])&&!(2&s.__u)&&u==s.key&&a==s.type)return l;return-1}function O(e,n,t){"-"==n[0]?e.setProperty(n,null==t?"":t):e[n]=null==t?"":"number"!=typeof t||h.test(n)?t:t+"px"}function D(e,n,t,o,r){var i,l;e:if("style"==n)if("string"==typeof t)e.style.cssText=t;else{if("string"==typeof o&&(e.style.cssText=o=""),o)for(n in o)t&&n in t||O(e.style,n,"");if(t)for(n in t)o&&t[n]==o[n]||O(e.style,n,t[n])}else if("o"==n[0]&&"n"==n[1])i=n!=(n=n.replace(a,"$1")),l=n.toLowerCase(),n=l in e||"onFocusOut"==n||"onFocusIn"==n?l.slice(2):n.slice(2),e.l||(e.l={}),e.l[n+i]=t,t?o?t.u=o.u:(t.u=s,e.addEventListener(n,i?c:_,i)):e.removeEventListener(n,i?c:_,i);else{if("http://www.w3.org/2000/svg"==r)n=n.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=n&&"height"!=n&&"href"!=n&&"list"!=n&&"form"!=n&&"tabIndex"!=n&&"download"!=n&&"rowSpan"!=n&&"colSpan"!=n&&"role"!=n&&"popover"!=n&&n in e)try{e[n]=null==t?"":t;break e}catch(e){}"function"==typeof t||(null==t||!1===t&&"-"!=n[4]?e.removeAttribute(n):e.setAttribute(n,"popover"==n&&1==t?"":t))}}function T(e){return function(n){if(this.l){var o=this.l[n.type+e];if(null==n.t)n.t=s++;else if(n.t<o.u)return;return o(t.event?t.event(n):n)}}}function L(e,n,o,r,i,l,u,a,s,_){var c,f,p,d,h,y,x,b,w,S,E,I,F,N,R,O,D,T=n.type;if(void 0!==n.constructor)return null;128&o.__u&&(s=!!(32&o.__u),l=[a=n.__e=o.__e]),(c=t.__b)&&c(n);e:if("function"==typeof T)try{if(b=n.props,w="prototype"in T&&T.prototype.render,S=(c=T.contextType)&&r[c.__c],E=c?S?S.props.value:c.__:r,o.__c?x=(f=n.__c=o.__c).__=f.__E:(w?n.__c=f=new T(b,E):(n.__c=f=new C(b,E),f.constructor=T,f.render=A),S&&S.sub(f),f.state||(f.state={}),f.__n=r,p=f.__d=!0,f.__h=[],f._sb=[]),w&&null==f.__s&&(f.__s=f.state),w&&null!=T.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=m({},f.__s)),m(f.__s,T.getDerivedStateFromProps(b,f.__s))),d=f.props,h=f.state,f.__v=n,p)w&&null==T.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),w&&null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(w&&null==T.getDerivedStateFromProps&&b!==d&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(b,E),n.__v==o.__v||!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(b,f.__s,E)){for(n.__v!=o.__v&&(f.props=b,f.state=f.__s,f.__d=!1),n.__e=o.__e,n.__k=o.__k,n.__k.some(function(e){e&&(e.__=n)}),I=0;I<f._sb.length;I++)f.__h.push(f._sb[I]);f._sb=[],f.__h.length&&u.push(f);break e}null!=f.componentWillUpdate&&f.componentWillUpdate(b,f.__s,E),w&&null!=f.componentDidUpdate&&f.__h.push(function(){f.componentDidUpdate(d,h,y)})}if(f.context=E,f.props=b,f.__P=e,f.__e=!1,F=t.__r,N=0,w){for(f.state=f.__s,f.__d=!1,F&&F(n),c=f.render(f.props,f.state,f.context),R=0;R<f._sb.length;R++)f.__h.push(f._sb[R]);f._sb=[]}else do{f.__d=!1,F&&F(n),c=f.render(f.props,f.state,f.context),f.state=f.__s}while(f.__d&&++N<25);f.state=f.__s,null!=f.getChildContext&&(r=m(m({},r),f.getChildContext())),w&&!p&&null!=f.getSnapshotBeforeUpdate&&(y=f.getSnapshotBeforeUpdate(d,h)),O=c,null!=c&&c.type===k&&null==c.key&&(O=U(c.props.children)),a=P(e,v(O)?O:[O],n,o,r,i,l,u,a,s,_),f.base=n.__e,n.__u&=-161,f.__h.length&&u.push(f),x&&(f.__E=f.__=null)}catch(e){if(n.__v=null,s||null!=l)if(e.then){for(n.__u|=s?160:128;a&&8==a.nodeType&&a.nextSibling;)a=a.nextSibling;l[l.indexOf(a)]=null,n.__e=a}else{for(D=l.length;D--;)g(l[D]);M(n)}else n.__e=o.__e,n.__k=o.__k,e.then||M(n);t.__e(e,n,o)}else null==l&&n.__v==o.__v?(n.__k=o.__k,n.__e=o.__e):a=n.__e=W(o.__e,n,o,r,i,l,u,s,_);return(c=t.diffed)&&c(n),128&n.__u?void 0:a}function M(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(M)}function H(e,n,o){for(var r=0;r<o.length;r++)B(o[r],o[++r],o[++r]);t.__c&&t.__c(n,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(e){e.call(n)})}catch(e){t.__e(e,n.__v)}})}function U(e){return"object"!=typeof e||null==e||e.__b&&e.__b>0?e:v(e)?e.map(U):m({},e)}function W(e,o,r,i,l,u,a,s,_){var c,f,d,h,m,y,x,b=r.props||p,k=o.props,C=o.type;if("svg"==C?l="http://www.w3.org/2000/svg":"math"==C?l="http://www.w3.org/1998/Math/MathML":l||(l="http://www.w3.org/1999/xhtml"),null!=u)for(c=0;c<u.length;c++)if((m=u[c])&&"setAttribute"in m==!!C&&(C?m.localName==C:3==m.nodeType)){e=m,u[c]=null;break}if(null==e){if(null==C)return document.createTextNode(k);e=document.createElementNS(l,C,k.is&&k),s&&(t.__m&&t.__m(o,u),s=!1),u=null}if(null==C)b===k||s&&e.data==k||(e.data=k);else{if(u=u&&n.call(e.childNodes),!s&&null!=u)for(b={},c=0;c<e.attributes.length;c++)b[(m=e.attributes[c]).name]=m.value;for(c in b)if(m=b[c],"children"==c);else if("dangerouslySetInnerHTML"==c)d=m;else if(!(c in k)){if("value"==c&&"defaultValue"in k||"checked"==c&&"defaultChecked"in k)continue;D(e,c,null,m,l)}for(c in k)m=k[c],"children"==c?h=m:"dangerouslySetInnerHTML"==c?f=m:"value"==c?y=m:"checked"==c?x=m:s&&"function"!=typeof m||b[c]===m||D(e,c,m,b[c],l);if(f)s||d&&(f.__html==d.__html||f.__html==e.innerHTML)||(e.innerHTML=f.__html),o.__k=[];else if(d&&(e.innerHTML=""),P("template"==o.type?e.content:e,v(h)?h:[h],o,r,i,"foreignObject"==C?"http://www.w3.org/1999/xhtml":l,u,a,u?u[0]:r.__k&&w(r,0),s,_),null!=u)for(c=u.length;c--;)g(u[c]);s||(c="value","progress"==C&&null==y?e.removeAttribute("value"):null!=y&&(y!==e[c]||"progress"==C&&!y||"option"==C&&y!=b[c])&&D(e,c,y,b[c],l),c="checked",null!=x&&x!=e[c]&&D(e,c,x,b[c],l))}return e}function B(e,n,o){try{if("function"==typeof e){var r="function"==typeof e.__u;r&&e.__u(),r&&null==n||(e.__u=e(n))}else e.current=n}catch(e){t.__e(e,o)}}function z(e,n,o){var r,i;if(t.unmount&&t.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||B(r,null,n)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(e){t.__e(e,n)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&z(r[i],n,o||"function"!=typeof e.type);o||g(e.__e),e.__c=e.__=e.__e=void 0}function A(e,n,t){return this.constructor(e,t)}function j(e,o,r){var i,l,u,a;o==document&&(o=document.documentElement),t.__&&t.__(e,o),l=(i="function"==typeof r)?null:r&&r.__k||o.__k,u=[],a=[],L(o,e=(!i&&r||o).__k=y(k,null,[e]),l||p,p,o.namespaceURI,!i&&r?[r]:l?null:o.firstChild?n.call(o.childNodes):null,u,!i&&r?r:l?l.__e:o.firstChild,i,a),H(u,e,a)}function V(e,n){j(e,n,V)}function $(e,t,o){var r,i,l,u,a=m({},e.props);for(l in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)"key"==l?r=t[l]:"ref"==l?i=t[l]:a[l]=void 0===t[l]&&null!=u?u[l]:t[l];return arguments.length>2&&(a.children=arguments.length>3?n.call(arguments,2):o),x(e.type,a,r||e.key,i||e.ref,null)}function q(e){function n(e){var t,o;return this.getChildContext||(t=new Set,(o={})[n.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(e){this.props.value!=e.value&&t.forEach(function(e){e.__e=!0,E(e)})},this.sub=function(e){t.add(e);var n=e.componentWillUnmount;e.componentWillUnmount=function(){t&&t.delete(e),n&&n.call(e)}}),e.children}return n.__c="__cC"+f++,n.__=e,n.Provider=n.__l=(n.Consumer=function(e,n){return e.children(n)}).contextType=n,n}n=d.slice,t={__e:function(e,n,t,o){for(var r,i,l;n=n.__;)if((r=n.__c)&&!r.__)try{if((i=r.constructor)&&null!=i.getDerivedStateFromError&&(r.setState(i.getDerivedStateFromError(e)),l=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,o||{}),l=r.__d),l)return r.__E=r}catch(n){e=n}throw e}},o=0,C.prototype.setState=function(e,n){var t;t=null!=this.__s&&this.__s!=this.state?this.__s:this.__s=m({},this.state),"function"==typeof e&&(e=e(m({},t),this.props)),e&&m(t,e),null!=e&&this.__v&&(n&&this._sb.push(n),E(this))},C.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),E(this))},C.prototype.render=k,r=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=function(e,n){return e.__v.__b-n.__v.__b},I.__r=0,a=/(PointerCapture)$|Capture$/i,s=0,_=T(!1),c=T(!0),f=0;var Y,J,K,Z,G=0,Q=[],X=t,ee=X.__b,ne=X.__r,te=X.diffed,oe=X.__c,re=X.unmount,ie=X.__;function le(e,n){X.__h&&X.__h(J,e,G||n),G=0;var t=J.__H||(J.__H={__:[],__h:[]});return e>=t.__.length&&t.__.push({}),t.__[e]}function ue(e){return G=1,ae(we,e)}function ae(e,n,t){var o=le(Y++,2);if(o.t=e,!o.__c&&(o.__=[t?t(n):we(void 0,n),function(e){var n=o.__N?o.__N[0]:o.__[0],t=o.t(n,e);n!==t&&(o.__N=[t,o.__[1]],o.__c.setState({}))}],o.__c=J,!J.__f)){var r=function(e,n,t){if(!o.__c.__H)return!0;var r=o.__c.__H.__.filter(function(e){return!!e.__c});if(r.every(function(e){return!e.__N}))return!i||i.call(this,e,n,t);var l=o.__c.props!==e;return r.forEach(function(e){if(e.__N){var n=e.__[0];e.__=e.__N,e.__N=void 0,n!==e.__[0]&&(l=!0)}}),i&&i.call(this,e,n,t)||l};J.__f=!0;var i=J.shouldComponentUpdate,l=J.componentWillUpdate;J.componentWillUpdate=function(e,n,t){if(this.__e){var o=i;i=void 0,r(e,n,t),i=o}l&&l.call(this,e,n,t)},J.shouldComponentUpdate=r}return o.__N||o.__}function se(e,n){var t=le(Y++,3);!X.__s&&Ce(t.__H,n)&&(t.__=e,t.u=n,J.__H.__h.push(t))}function _e(e,n){var t=le(Y++,4);!X.__s&&Ce(t.__H,n)&&(t.__=e,t.u=n,J.__h.push(t))}function ce(e){return G=5,pe(function(){return{current:e}},[])}function fe(e,n,t){G=6,_e(function(){if("function"==typeof e){var t=e(n());return function(){e(null),t&&"function"==typeof t&&t()}}if(e)return e.current=n(),function(){return e.current=null}},null==t?t:t.concat(e))}function pe(e,n){var t=le(Y++,7);return Ce(t.__H,n)&&(t.__=e(),t.__H=n,t.__h=e),t.__}function de(e,n){return G=8,pe(function(){return e},n)}function he(e){var n=J.context[e.__c],t=le(Y++,9);return t.c=e,n?(null==t.__&&(t.__=!0,n.sub(J)),n.props.value):e.__}function ve(e,n){X.useDebugValue&&X.useDebugValue(n?n(e):e)}function me(){var e=le(Y++,11);if(!e.__){for(var n=J.__v;null!==n&&!n.__m&&null!==n.__;)n=n.__;var t=n.__m||(n.__m=[0,0]);e.__="P"+t[0]+"-"+t[1]++}return e.__}function ge(){for(var e;e=Q.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(be),e.__H.__h.forEach(ke),e.__H.__h=[]}catch(n){e.__H.__h=[],X.__e(n,e.__v)}}X.__b=function(e){J=null,ee&&ee(e)},X.__=function(e,n){e&&n.__k&&n.__k.__m&&(e.__m=n.__k.__m),ie&&ie(e,n)},X.__r=function(e){ne&&ne(e),Y=0;var n=(J=e.__c).__H;n&&(K===J?(n.__h=[],J.__h=[],n.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(n.__h.forEach(be),n.__h.forEach(ke),n.__h=[],Y=0)),K=J},X.diffed=function(e){te&&te(e);var n=e.__c;n&&n.__H&&(n.__H.__h.length&&(1!==Q.push(n)&&Z===X.requestAnimationFrame||((Z=X.requestAnimationFrame)||xe)(ge)),n.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),K=J=null},X.__c=function(e,n){n.some(function(e){try{e.__h.forEach(be),e.__h=e.__h.filter(function(e){return!e.__||ke(e)})}catch(t){n.some(function(e){e.__h&&(e.__h=[])}),n=[],X.__e(t,e.__v)}}),oe&&oe(e,n)},X.unmount=function(e){re&&re(e);var n,t=e.__c;t&&t.__H&&(t.__H.__.forEach(function(e){try{be(e)}catch(e){n=e}}),t.__H=void 0,n&&X.__e(n,t.__v))};var ye="function"==typeof requestAnimationFrame;function xe(e){var n,t=function(){clearTimeout(o),ye&&cancelAnimationFrame(n),setTimeout(e)},o=setTimeout(t,35);ye&&(n=requestAnimationFrame(t))}function be(e){var n=J,t=e.__c;"function"==typeof t&&(e.__c=void 0,t()),J=n}function ke(e){var n=J;e.__c=e.__(),J=n}function Ce(e,n){return!e||e.length!==n.length||n.some(function(n,t){return n!==e[t]})}function we(e,n){return"function"==typeof n?n(e):n}const Se=e=>{let n;const t=new Set,o=(e,o)=>{const r="function"==typeof e?e(n):e;if(!Object.is(r,n)){const e=n;n=(null!=o?o:"object"!=typeof r||null===r)?r:Object.assign({},n,r),t.forEach(t=>t(n,e))}},r=()=>n,i={setState:o,getState:r,getInitialState:()=>l,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},l=n=e(o,r,i);return i};function Ee(e,n){for(var t in n)e[t]=n[t];return e}function Ie(e,n){for(var t in e)if("__source"!==t&&!(t in n))return!0;for(var o in n)if("__source"!==o&&e[o]!==n[o])return!0;return!1}function Pe(e,n){var t=n(),o=ue({t:{__:t,u:n}}),r=o[0].t,i=o[1];return _e(function(){r.__=t,r.u=n,Fe(r)&&i({t:r})},[e,t,n]),se(function(){return Fe(r)&&i({t:r}),e(function(){Fe(r)&&i({t:r})})},[e]),t}function Fe(e){var n,t,o=e.u,r=e.__;try{var i=o();return!((n=r)===(t=i)&&(0!==n||1/n==1/t)||n!=n&&t!=t)}catch(e){return!0}}function Ne(e){e()}function Re(e){return e}function Oe(){return[!1,Ne]}var De=_e;function Te(e,n){this.props=e,this.context=n}function Le(e,n){function t(e){var t=this.props.ref,o=t==e.ref;return!o&&t&&(t.call?t(null):t.current=null),n?!n(this.props,e)||!o:Ie(this.props,e)}function o(n){return this.shouldComponentUpdate=t,y(e,n)}return o.displayName="Memo("+(e.displayName||e.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o.type=e,o}(Te.prototype=new C).isPureReactComponent=!0,Te.prototype.shouldComponentUpdate=function(e,n){return Ie(this.props,e)||Ie(this.state,n)};var Me=t.__b;t.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),Me&&Me(e)};var He="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Ue(e){function n(n){var t=Ee({},n);return delete t.ref,e(t,n.ref||null)}return n.$$typeof=He,n.render=e,n.prototype.isReactComponent=n.__f=!0,n.displayName="ForwardRef("+(e.displayName||e.name)+")",n}var We=function(e,n){return null==e?null:N(N(e).map(n))},Be={map:We,forEach:We,count:function(e){return e?N(e).length:0},only:function(e){var n=N(e);if(1!==n.length)throw"Children.only";return n[0]},toArray:N},ze=t.__e;t.__e=function(e,n,t,o){if(e.then)for(var r,i=n;i=i.__;)if((r=i.__c)&&r.__c)return null==n.__e&&(n.__e=t.__e,n.__k=t.__k),r.__c(e,n);ze(e,n,t,o)};var Ae=t.unmount;function je(e,n,t){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(e){"function"==typeof e.__c&&e.__c()}),e.__c.__H=null),null!=(e=Ee({},e)).__c&&(e.__c.__P===t&&(e.__c.__P=n),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(e){return je(e,n,t)})),e}function Ve(e,n,t){return e&&t&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(e){return Ve(e,n,t)}),e.__c&&e.__c.__P===n&&(e.__e&&t.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=t)),e}function $e(){this.__u=0,this.o=null,this.__b=null}function qe(e){if(!e.__)return null;var n=e.__.__c;return n&&n.__a&&n.__a(e)}function Ye(e){var n,t,o,r=null;function i(i){if(n||(n=e()).then(function(e){e&&(r=e.default||e),o=!0},function(e){t=e,o=!0}),t)throw t;if(!o)throw n;return r?y(r,i):null}return i.displayName="Lazy",i.__f=!0,i}function Je(){this.i=null,this.l=null}t.unmount=function(e){var n=e.__c;n&&(n.__z=!0),n&&n.__R&&n.__R(),n&&32&e.__u&&(e.type=null),Ae&&Ae(e)},($e.prototype=new C).__c=function(e,n){var t=n.__c,o=this;null==o.o&&(o.o=[]),o.o.push(t);var r=qe(o.__v),i=!1,l=function(){i||o.__z||(i=!0,t.__R=null,r?r(a):a())};t.__R=l;var u=t.__P;t.__P=null;var a=function(){if(! --o.__u){if(o.state.__a){var e=o.state.__a;o.__v.__k[0]=Ve(e,e.__c.__P,e.__c.__O)}var n;for(o.setState({__a:o.__b=null});n=o.o.pop();)n.__P=u,n.forceUpdate()}};o.__u++||32&n.__u||o.setState({__a:o.__b=o.__v.__k[0]}),e.then(l,l)},$e.prototype.componentWillUnmount=function(){this.o=[]},$e.prototype.render=function(e,n){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=je(this.__b,t,o.__O=o.__P)}this.__b=null}var r=n.__a&&y(k,null,e.fallback);return r&&(r.__u&=-33),[y(k,null,n.__a?null:e.children),r]};var Ke=function(e,n,t){if(++t[1]===t[0]&&e.l.delete(n),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(t=e.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;e.i=t=t[2]}};function Ze(e){return this.getChildContext=function(){return e.context},e.children}function Ge(e){var n=this,t=e.h;if(n.componentWillUnmount=function(){j(null,n.v),n.v=null,n.h=null},n.h&&n.h!==t&&n.componentWillUnmount(),!n.v){for(var o=n.__v;null!==o&&!o.__m&&null!==o.__;)o=o.__;n.h=t,n.v={nodeType:1,parentNode:t,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},namespaceURI:t.namespaceURI,insertBefore:function(e,t){this.childNodes.push(e),n.h.insertBefore(e,t)},removeChild:function(e){this.childNodes.splice(this.childNodes.indexOf(e)>>>1,1),n.h.removeChild(e)}}}j(y(Ze,{context:n.context},e.__v),n.v)}function Qe(e,n){var t=y(Ge,{__v:e,h:n});return t.containerInfo=n,t}(Je.prototype=new C).__a=function(e){var n=this,t=qe(n.__v),o=n.l.get(e);return o[0]++,function(r){var i=function(){n.props.revealOrder?(o.push(r),Ke(n,e,o)):r()};t?t(i):i()}},Je.prototype.render=function(e){this.i=null,this.l=new Map;var n=N(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&n.reverse();for(var t=n.length;t--;)this.l.set(n[t],this.i=[1,0,this.i]);return e.children},Je.prototype.componentDidUpdate=Je.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(n,t){Ke(e,t,n)})};var Xe="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,en=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nn=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,tn=/[A-Z0-9]/g,on="undefined"!=typeof document,rn=function(e){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(e)};function ln(e,n,t){return null==n.__k&&(n.textContent=""),j(e,n),"function"==typeof t&&t(),e?e.__c:null}function un(e,n,t){return V(e,n),"function"==typeof t&&t(),e?e.__c:null}C.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(C.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(n){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:n})}})});var an=t.event;function sn(){}function _n(){return this.cancelBubble}function cn(){return this.defaultPrevented}t.event=function(e){return an&&(e=an(e)),e.persist=sn,e.isPropagationStopped=_n,e.isDefaultPrevented=cn,e.nativeEvent=e};var fn,pn={enumerable:!1,configurable:!0,get:function(){return this.class}},dn=t.vnode;t.vnode=function(e){"string"==typeof e.type&&function(e){var n=e.props,t=e.type,o={},r=-1===t.indexOf("-");for(var i in n){var l=n[i];if(!("value"===i&&"defaultValue"in n&&null==l||on&&"children"===i&&"noscript"===t||"class"===i||"className"===i)){var u=i.toLowerCase();"defaultValue"===i&&"value"in n&&null==n.value?i="value":"download"===i&&!0===l?l="":"translate"===u&&"no"===l?l=!1:"o"===u[0]&&"n"===u[1]?"ondoubleclick"===u?i="ondblclick":"onchange"!==u||"input"!==t&&"textarea"!==t||rn(n.type)?"onfocus"===u?i="onfocusin":"onblur"===u?i="onfocusout":nn.test(i)&&(i=u):u=i="oninput":r&&en.test(i)?i=i.replace(tn,"-$&").toLowerCase():null===l&&(l=void 0),"oninput"===u&&o[i=u]&&(i="oninputCapture"),o[i]=l}}"select"==t&&o.multiple&&Array.isArray(o.value)&&(o.value=N(n.children).forEach(function(e){e.props.selected=-1!=o.value.indexOf(e.props.value)})),"select"==t&&null!=o.defaultValue&&(o.value=N(n.children).forEach(function(e){e.props.selected=o.multiple?-1!=o.defaultValue.indexOf(e.props.value):o.defaultValue==e.props.value})),n.class&&!n.className?(o.class=n.class,Object.defineProperty(o,"className",pn)):(n.className&&!n.class||n.class&&n.className)&&(o.class=o.className=n.className),e.props=o}(e),e.$$typeof=Xe,dn&&dn(e)};var hn=t.__r;t.__r=function(e){hn&&hn(e),fn=e.__c};var vn=t.diffed;t.diffed=function(e){vn&&vn(e);var n=e.props,t=e.__e;null!=t&&"textarea"===e.type&&"value"in n&&n.value!==t.value&&(t.value=null==n.value?"":n.value),fn=null};var mn={ReactCurrentDispatcher:{current:{readContext:function(e){return fn.__n[e.__c].props.value},useCallback:de,useContext:he,useDebugValue:ve,useDeferredValue:Re,useEffect:se,useId:me,useImperativeHandle:fe,useInsertionEffect:De,useLayoutEffect:_e,useMemo:pe,useReducer:ae,useRef:ce,useState:ue,useSyncExternalStore:Pe,useTransition:Oe}}};function gn(e){return y.bind(null,e)}function yn(e){return!!e&&e.$$typeof===Xe}function xn(e){return yn(e)&&e.type===k}function bn(e){return!!e&&!!e.displayName&&("string"==typeof e.displayName||e.displayName instanceof String)&&e.displayName.startsWith("Memo(")}function kn(e){return yn(e)?$.apply(null,arguments):e}function Cn(e){return!!e.__k&&(j(null,e),!0)}function wn(e){return e&&(e.base||1===e.nodeType&&e)||null}var Sn=function(e,n){return e(n)},En=function(e,n){return e(n)},In=k,Pn=yn,Fn={useState:ue,useId:me,useReducer:ae,useEffect:se,useLayoutEffect:_e,useInsertionEffect:De,useTransition:Oe,useDeferredValue:Re,useSyncExternalStore:Pe,startTransition:Ne,useRef:ce,useImperativeHandle:fe,useMemo:pe,useCallback:de,useContext:he,useDebugValue:ve,version:"18.3.1",Children:Be,render:ln,hydrate:un,unmountComponentAtNode:Cn,createPortal:Qe,createElement:y,createContext:q,createFactory:gn,cloneElement:kn,createRef:b,Fragment:k,isValidElement:yn,isElement:Pn,isFragment:xn,isMemo:bn,findDOMNode:wn,Component:C,PureComponent:Te,memo:Le,forwardRef:Ue,flushSync:En,unstable_batchedUpdates:Sn,StrictMode:In,Suspense:$e,SuspenseList:Je,lazy:Ye,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mn},Nn=Object.freeze({__proto__:null,Children:Be,Component:C,Fragment:k,PureComponent:Te,StrictMode:In,Suspense:$e,SuspenseList:Je,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:mn,cloneElement:kn,createContext:q,createElement:y,createFactory:gn,createPortal:Qe,createRef:b,default:Fn,findDOMNode:wn,flushSync:En,forwardRef:Ue,hydrate:un,isElement:Pn,isFragment:xn,isMemo:bn,isValidElement:yn,lazy:Ye,memo:Le,render:ln,startTransition:Ne,unmountComponentAtNode:Cn,unstable_batchedUpdates:Sn,useCallback:de,useContext:he,useDebugValue:ve,useDeferredValue:Re,useEffect:se,useErrorBoundary:function(e){var n=le(Y++,10),t=ue();return n.__=e,J.componentDidCatch||(J.componentDidCatch=function(e,o){n.__&&n.__(e,o),t[1](e)}),[t[0],function(){t[1](void 0)}]},useId:me,useImperativeHandle:fe,useInsertionEffect:De,useLayoutEffect:_e,useMemo:pe,useReducer:ae,useRef:ce,useState:ue,useSyncExternalStore:Pe,useTransition:Oe,version:"18.3.1"});function Rn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function On(e){if(e.__esModule)return e;var n=e.default;if("function"==typeof n){var t=function e(){return this instanceof e?Reflect.construct(n,arguments,this.constructor):n.apply(this,arguments)};t.prototype=n.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}),t}var Dn={exports:{}},Tn={},Ln=On(Nn),Mn={exports:{}},Hn={},Un=Ln;var Wn="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Bn=Un.useState,zn=Un.useEffect,An=Un.useLayoutEffect,jn=Un.useDebugValue;function Vn(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!Wn(e,t)}catch(e){return!0}}var $n="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),o=Bn({inst:{value:t,getSnapshot:n}}),r=o[0].inst,i=o[1];return An(function(){r.value=t,r.getSnapshot=n,Vn(r)&&i({inst:r})},[e,t,n]),zn(function(){return Vn(r)&&i({inst:r}),e(function(){Vn(r)&&i({inst:r})})},[e]),jn(t),t};Hn.useSyncExternalStore=void 0!==Un.useSyncExternalStore?Un.useSyncExternalStore:$n,Mn.exports=Hn;var qn=Ln,Yn=Mn.exports;
/**
   * @license React
   * use-sync-external-store-shim/with-selector.production.js
   *
   * Copyright (c) Meta Platforms, Inc. and affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   */var Jn="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},Kn=Yn.useSyncExternalStore,Zn=qn.useRef,Gn=qn.useEffect,Qn=qn.useMemo,Xn=qn.useDebugValue;Tn.useSyncExternalStoreWithSelector=function(e,n,t,o,r){var i=Zn(null);if(null===i.current){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=Qn(function(){function e(e){if(!a){if(a=!0,i=e,e=o(e),void 0!==r&&l.hasValue){var n=l.value;if(r(n,e))return u=n}return u=e}if(n=u,Jn(i,e))return n;var t=o(e);return void 0!==r&&r(n,t)?(i=e,n):(i=e,u=t)}var i,u,a=!1,s=void 0===t?null:t;return[function(){return e(n())},null===s?void 0:function(){return e(s())}]},[n,t,o,r]);var u=Kn(e,i[0],i[1]);return Gn(function(){l.hasValue=!0,l.value=u},[u]),Xn(u),u},Dn.exports=Tn;var et=Rn(Dn.exports);const{useDebugValue:nt}=Fn,{useSyncExternalStoreWithSelector:tt}=et;let ot=!1;const rt=e=>e;const it=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const n="function"==typeof e?(e=>e?Se(e):Se)(e):e,t=(e,t)=>function(e,n=rt,t){t&&!ot&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ot=!0);const o=tt(e.subscribe,e.getState,e.getServerState||e.getInitialState,n,t);return nt(o),o}(n,e,t);return Object.assign(t,n),t};const lt="vael_visitor_id";function ut(){let e=localStorage.getItem(lt);if(!e){const n=document.cookie.split(";");for(const t of n){const[n,o]=t.trim().split("=");if(n===lt){e=o;break}}}return e||(e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=16*Math.random()|0;return("x"===e?n:3&n|8).toString(16)}),function(e){localStorage.setItem(lt,e);const n=new Date;n.setDate(n.getDate()+365),document.cookie=`${lt}=${e};expires=${n.toUTCString()};path=/;SameSite=Lax`}(e)),e}const at="vael_chat_conversation",st="vael_chat_session_active";function _t(){try{localStorage.removeItem(at),sessionStorage.removeItem(st)}catch{}}function ct(e){try{sessionStorage.setItem(st,e)}catch{}}const ft=(pt=(e,n)=>{const t=function(){try{const e=localStorage.getItem(at);if(e){const n=JSON.parse(e);if(n.timestamp&&Date.now()-n.timestamp<72e5){const e=n.conversationId,t=n.messages||[],o=sessionStorage.getItem(st);return o&&o===e?{conversationId:e,messages:t,isPending:!1}:{conversationId:e,messages:t,isPending:!0}}}}catch{}return{conversationId:null,messages:[],isPending:!1}}(),o=t.isPending?[]:t.messages,r=t.isPending?null:t.conversationId,i=t.isPending?{conversationId:t.conversationId,messages:t.messages}:null;return{isOpen:!1,isLoading:!1,messages:o,conversationId:r,visitorId:ut(),error:null,pendingConversation:i,toggle:()=>e(e=>({isOpen:!e.isOpen})),open:()=>e({isOpen:!0}),close:()=>e({isOpen:!1}),clearError:()=>e({error:null}),continueConversation:()=>{const{pendingConversation:t}=n();t&&(ct(t.conversationId),e({messages:t.messages,conversationId:t.conversationId,pendingConversation:null}))},startFreshConversation:()=>{_t(),e({messages:[],conversationId:null,pendingConversation:null})},init:async()=>{const{visitorId:e}=n();try{await async function(e){const n=await fetch("/api/visitors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:e,currentPage:window.location.pathname})});if(!n.ok)throw new Error(`Visitor init failed: ${n.status}`);return n.json()}(e)}catch(e){console.error("Failed to init visitor:",e)}},sendMessage:async t=>{const{visitorId:o,conversationId:r,messages:i,pendingConversation:l}=n();l&&(_t(),e({pendingConversation:null}));const u={id:`user-${Date.now()}`,role:"user",content:t,timestamp:Date.now()};e({messages:[...i,u],isLoading:!0,error:null});try{const i=await async function(e,n,t){const o=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({visitorId:e,message:n,conversationId:t,currentPage:window.location.pathname})});if(!o.ok)throw new Error(`Chat request failed: ${o.status}`);return o.json()}(o,t,r||void 0),l={id:i.message.id,role:"assistant",content:i.message.content,timestamp:i.message.timestamp},u=[...n().messages,l];e({messages:u,conversationId:i.conversationId,isLoading:!1}),ct(i.conversationId),function(e,n){try{localStorage.setItem(at,JSON.stringify({conversationId:e,messages:n,timestamp:Date.now()}))}catch{}}(i.conversationId,u)}catch(n){console.error("Failed to send message:",n),e({isLoading:!1,error:"Failed to send message. Please try again."})}}}})?it(pt):it;var pt;function dt(){const{toggle:e,isOpen:n,messages:t}=ft(),o=t.length>0&&"assistant"===t[t.length-1].role;return y("button",{onClick:e,"aria-label":n?"Close chat":"Open chat",style:{position:"fixed",bottom:"20px",right:"20px",width:"60px",height:"60px",borderRadius:"50%",backgroundColor:"#2563eb",border:"none",cursor:"pointer",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s, box-shadow 0.2s",zIndex:9998},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 6px 16px rgba(0, 0, 0, 0.2)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.15)"}},n?y("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white",strokeWidth:"2"},y("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y("line",{x1:"6",y1:"6",x2:"18",y2:"18"})):y("svg",{width:"28",height:"28",viewBox:"0 0 24 24",fill:"white"},y("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"})),!n&&o&&y("span",{style:{position:"absolute",top:"0",right:"0",width:"12px",height:"12px",backgroundColor:"#ef4444",borderRadius:"50%",border:"2px solid white"}}))}function ht({size:e=32}){return y("img",{src:"https://www.vaelcreative.com/chat-avatar.jpg",width:e,height:e,alt:"Vael Creative",style:{borderRadius:"50%",flexShrink:0,objectFit:"cover"}})}function vt({role:e,content:n,grouped:t}){return"user"===e?y("div",{class:"vael-msg-user",style:{display:"flex",justifyContent:"flex-end",marginTop:t?"2px":"12px",paddingLeft:"48px"}},y("div",{class:"vael-bubble",style:{maxWidth:"85%",padding:"9px 14px",fontSize:"15px",lineHeight:"1.4",wordBreak:"break-word"}},n)):y("div",{class:"vael-msg-assistant",style:{display:"flex",alignItems:"flex-end",gap:"6px",marginTop:t?"2px":"12px",paddingRight:"48px"}},y("div",{style:{width:"28px",flexShrink:0}},!t&&y(ht,{size:28})),y("div",{class:"vael-bubble",style:{maxWidth:"85%",padding:"9px 14px",fontSize:"15px",lineHeight:"1.4",wordBreak:"break-word"}},n))}function mt(){const[e,n]=ue(""),t=ce(null),{sendMessage:o,isLoading:r}=ft(),i=async i=>{i.preventDefault();const l=e.trim();l&&!r&&(n(""),await o(l),t.current?.focus())},l=e.trim()&&!r;return y("form",{onSubmit:i,style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px 10px",borderTop:"1px solid #E5E5EA",backgroundColor:"#FBFBFB"}},y("input",{ref:t,type:"text",value:e,onInput:e=>n(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),i(e))},placeholder:"iMessage",disabled:r,class:"vael-input-field",style:{flex:1,padding:"10px 16px",border:"1px solid #C7C7CC",borderRadius:"20px",fontSize:"15px",outline:"none",backgroundColor:"white",color:"#1C1C1E",transition:"border-color 0.15s, box-shadow 0.15s",fontFamily:"inherit"}}),y("button",{type:"submit",disabled:!l,style:{width:"34px",height:"34px",borderRadius:"50%",backgroundColor:l?"#007AFF":"#C7C7CC",border:"none",cursor:l?"pointer":"default",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.15s",flexShrink:0}},r?y("div",{style:{width:"14px",height:"14px",border:"2px solid white",borderTopColor:"transparent",borderRadius:"50%",animation:"vael-spin 0.8s linear infinite"}}):y("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"white"},y("path",{d:"M3.4 20.4l17.45-7.48a1 1 0 000-1.84L3.4 3.6a.993.993 0 00-1.39.91L2 9.12c0 .5.37.93.87.99L13 12 2.87 13.88c-.5.07-.87.5-.87 1l.01 4.61c0 .71.73 1.2 1.39.91z"}))))}function gt(){const{messages:e,isLoading:n,error:t,clearError:o,close:r,pendingConversation:i,continueConversation:l,startFreshConversation:u}=ft(),a=ce(null);return se(()=>{a.current?.scrollIntoView({behavior:"smooth"})},[e]),y("div",{class:"vael-chat-window",style:{position:"fixed",bottom:"90px",right:"20px",width:"380px",maxWidth:"calc(100vw - 40px)",height:"550px",maxHeight:"calc(100vh - 120px)",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 8px 40px rgba(0, 0, 0, 0.16)",display:"flex",flexDirection:"column",overflow:"hidden",zIndex:9999,fontFamily:'-apple-system, "SF Pro", BlinkMacSystemFont, "Helvetica Neue", sans-serif'}},y("div",{style:{padding:"14px 16px",backgroundColor:"#FBFBFB",borderBottom:"1px solid #E5E5EA",display:"flex",alignItems:"center",justifyContent:"space-between"}},y("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},y("div",{style:{position:"relative",flexShrink:0}},y(ht,{size:36}),y("div",{style:{position:"absolute",bottom:"0",right:"0",width:"10px",height:"10px",backgroundColor:"#34C759",borderRadius:"50%",border:"2px solid #FBFBFB"}})),y("div",null,y("div",{style:{fontWeight:"600",fontSize:"15px",color:"#1C1C1E"}},"Vael Creative"),y("div",{style:{fontSize:"12px",color:"#8E8E93"}},"Online"))),y("div",{style:{display:"flex",alignItems:"center"}},e.length>0&&y("button",{onClick:u,style:{background:"none",border:"none",color:"#8E8E93",cursor:"pointer",padding:"4px",display:"flex",borderRadius:"50%",transition:"background-color 0.15s",marginRight:"4px"},"aria-label":"New conversation",title:"New conversation",onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#F2F2F7"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"}},y("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},y("path",{d:"M12 20h9"}),y("path",{d:"M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"}))),y("button",{onClick:r,style:{background:"none",border:"none",color:"#8E8E93",cursor:"pointer",padding:"4px",display:"flex",borderRadius:"50%",transition:"background-color 0.15s"},"aria-label":"Close chat",onMouseEnter:e=>{e.currentTarget.style.backgroundColor="#F2F2F7"},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="transparent"}},y("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round"},y("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),y("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))))),y("div",{style:{flex:1,padding:"12px 12px 4px",overflowY:"auto",backgroundColor:"#F2F2F7"}},0===e.length&&!i&&y("div",{style:{textAlign:"center",color:"#8E8E93",padding:"40px 20px"}},y("div",{style:{marginBottom:"16px"}},y(ht,{size:56})),y("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1C1C1E",marginBottom:"4px"}},"Vael Creative"),y("div",{style:{fontSize:"13px",lineHeight:"1.4"}},"Ask us anything about our services, pricing, or how we can help your brand.")),0===e.length&&i&&y("div",{style:{textAlign:"center",color:"#8E8E93",padding:"40px 20px"}},y("div",{style:{marginBottom:"16px"}},y(ht,{size:56})),y("div",{style:{fontSize:"16px",fontWeight:"600",color:"#1C1C1E",marginBottom:"4px"}},"Welcome back!"),y("div",{style:{fontSize:"13px",lineHeight:"1.4",marginBottom:"20px"}},"You have a recent conversation. Would you like to continue where you left off?"),y("div",{style:{display:"flex",flexDirection:"column",gap:"10px",padding:"0 20px"}},y("button",{onClick:l,style:{padding:"10px 20px",backgroundColor:"#007AFF",color:"white",border:"none",borderRadius:"20px",fontSize:"14px",fontWeight:"600",cursor:"pointer",fontFamily:"inherit"}},"Continue conversation"),y("button",{onClick:u,style:{padding:"10px 20px",backgroundColor:"transparent",color:"#8E8E93",border:"1px solid #C7C7CC",borderRadius:"20px",fontSize:"14px",fontWeight:"500",cursor:"pointer",fontFamily:"inherit"}},"Start fresh"))),e.map((n,t)=>{const o=t>0?e[t-1]:null,r=o&&o.role===n.role;return y(vt,{key:n.id,role:n.role,content:n.content,timestamp:n.timestamp,grouped:!!r})}),n&&y("div",{style:{display:"flex",alignItems:"flex-end",gap:"6px",marginTop:"4px",marginBottom:"8px"}},y(ht,{size:28}),y("div",{style:{display:"flex",alignItems:"center",gap:"4px",padding:"12px 16px",backgroundColor:"#E9E9EB",borderRadius:"18px 18px 18px 4px"}},y("span",{class:"vael-typing-dot"}),y("span",{class:"vael-typing-dot"}),y("span",{class:"vael-typing-dot"}))),t&&y("div",{style:{padding:"10px 14px",backgroundColor:"#fef2f2",color:"#dc2626",borderRadius:"12px",fontSize:"13px",display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"8px"}},y("span",null,t),y("button",{onClick:o,style:{background:"none",border:"none",color:"#dc2626",cursor:"pointer",fontSize:"16px",padding:"0 2px"}},"Ã—")),y("div",{ref:a})),y(mt,null))}function yt(){const{isOpen:e,init:n}=ft();return se(()=>{n()},[]),y(k,null,y("style",null,"\n        @keyframes vael-spin {\n          to { transform: rotate(360deg); }\n        }\n        @keyframes vael-dot-bounce {\n          0%, 80%, 100% { transform: scale(0); opacity: 0.4; }\n          40% { transform: scale(1); opacity: 1; }\n        }\n        @keyframes vael-fade-in {\n          from { opacity: 0; transform: translateY(8px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .vael-msg-user .vael-bubble {\n          position: relative;\n          background-color: #007AFF;\n          color: white;\n          border-radius: 18px 18px 4px 18px;\n        }\n        .vael-msg-user .vael-bubble::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          right: -6px;\n          width: 12px;\n          height: 12px;\n          background: #007AFF;\n          border-bottom-left-radius: 12px;\n          clip-path: polygon(0 0, 0 100%, 100% 100%);\n        }\n        .vael-msg-assistant .vael-bubble {\n          position: relative;\n          background-color: #E9E9EB;\n          color: #1C1C1E;\n          border-radius: 18px 18px 18px 4px;\n        }\n        .vael-msg-assistant .vael-bubble::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: -6px;\n          width: 12px;\n          height: 12px;\n          background: #E9E9EB;\n          border-bottom-right-radius: 12px;\n          clip-path: polygon(100% 0, 0 100%, 100% 100%);\n        }\n        .vael-typing-dot {\n          width: 8px;\n          height: 8px;\n          border-radius: 50%;\n          background-color: #8E8E93;\n          display: inline-block;\n          animation: vael-dot-bounce 1.4s infinite ease-in-out both;\n        }\n        .vael-typing-dot:nth-child(1) { animation-delay: -0.32s; }\n        .vael-typing-dot:nth-child(2) { animation-delay: -0.16s; }\n        .vael-typing-dot:nth-child(3) { animation-delay: 0s; }\n        .vael-chat-window {\n          animation: vael-fade-in 0.25s ease-out;\n        }\n        .vael-input-field:focus {\n          border-color: #007AFF !important;\n          box-shadow: 0 0 0 1px rgba(0, 122, 255, 0.2);\n        }\n      "),y(dt,null),e&&y(gt,null))}function xt(){let e=document.getElementById("vael-chat-widget");e||(e=document.createElement("div"),e.id="vael-chat-widget",document.body.appendChild(e)),j(y(yt,null),e)}return"loading"===document.readyState?document.addEventListener("DOMContentLoaded",xt):xt(),e.ChatWidget=yt,e.init=xt,e}({});
